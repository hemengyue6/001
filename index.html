<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>åº“å­˜æ§åˆ¶åŸç†æµ‹è¯•å®è®­</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <style>
        :root { --accent-blue: #3b82f6; --accent-green: #10b981; --accent-red: #ef4444; }
        body { background: #020617; color: #f8fafc; overflow: hidden; font-family: 'PingFang SC', sans-serif; }

        #tech-bg {
            position: fixed; inset: 0;
            background-image:
                linear-gradient(to right, rgba(59, 130, 246, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(59, 130, 246, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            mask-image: radial-gradient(circle at center, black, transparent 80%);
            z-index: 0;
        }

        #video-preview {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 160px;
            border-radius: 16px;
            border: 2px solid rgba(59, 130, 246, 0.3);
            transform: scaleX(-1);
            z-index: 100;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
        }

        .glass {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        #bg-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0.3;
        }

        #particle-canvas {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 50;
        }

        .btn-glow:hover {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
            transform: translateY(-2px);
        }

        .indicator-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 6px;
            transition: width 0.1s;
            border-radius: 0 0 2rem 2rem;
            filter: drop-shadow(0 0 8px currentColor);
        }

        #dify-chatbot-bubble-button {
            background-color: var(--accent-blue) !important;
            z-index: 1000 !important;
            border: 2px solid rgba(255,255,255,0.1) !important;
        }
    </style>
</head>

<body class="flex items-center justify-center min-h-screen">

<div id="tech-bg"></div>
<div id="bg-overlay"></div>
<canvas id="particle-canvas"></canvas>
<video id="video-preview" autoplay playsinline></video>

<!-- å¯åŠ¨é¡µ -->
<div id="start-screen" class="relative z-50 text-center glass p-10 rounded-[2.5rem] max-w-xl">
    <div class="inline-block p-4 rounded-3xl bg-blue-500/10 mb-6 border border-blue-500/20 shadow-inner">
        <span class="text-5xl">ğŸ“Š</span>
    </div>
    <h1 class="text-4xl font-black mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-br from-white to-blue-400">
        åº“å­˜æ§åˆ¶åŸç†æµ‹è¯•å®è®­
    </h1>
    <p class="text-slate-400 mb-10 text-sm leading-relaxed">
        Intelligence Inventory Control System v2.0
    </p>

    <div class="grid grid-cols-2 gap-4 mb-10 text-left">
        <div class="p-4 rounded-2xl bg-white/5 border border-white/5">
            <div class="text-red-400 font-bold mb-1">â† å‘å·¦æŒ¥æ‰‹</div>
            <div class="text-xs text-slate-500">åˆ¤å®šå‘½é¢˜ä¸ºâ€œé”™è¯¯â€</div>
        </div>
        <div class="p-4 rounded-2xl bg-white/5 border border-white/5">
            <div class="text-green-400 font-bold mb-1">å‘å³æŒ¥æ‰‹ â†’</div>
            <div class="text-xs text-slate-500">åˆ¤å®šå‘½é¢˜ä¸ºâ€œæ­£ç¡®â€</div>
        </div>
    </div>

    <button onclick="initGame()"
            class="w-full bg-blue-600 hover:bg-blue-500 text-white py-5 rounded-2xl font-black text-lg transition-all btn-glow">
        è¿›å…¥å®è®­ç©ºé—´
    </button>
</div>

<!-- åŠ è½½ -->
<div id="loading" class="hidden text-center z-50">
    <div class="relative w-16 h-16 mx-auto mb-6">
        <div class="absolute inset-0 border-4 border-blue-500/20 rounded-full"></div>
        <div class="absolute inset-0 border-4 border-t-blue-500 rounded-full animate-spin"></div>
    </div>
    <p class="text-blue-400 font-mono text-xs tracking-[0.3em]">
        SYNCHRONIZING SYSTEM...
    </p>
</div>

<!-- æ¸¸æˆç•Œé¢ -->
<div id="game-ui" class="hidden relative z-20 flex flex-col items-center w-full max-w-2xl px-6">
    <div id="progress-tag"
         class="px-4 py-1 rounded-full bg-blue-500/10 border border-blue-500/30 text-blue-400 font-mono text-[10px] mb-8 tracking-widest uppercase">
        Task Sequence // 01
    </div>

    <div id="card" class="glass p-12 rounded-[2.5rem] text-center w-full relative group">
        <p id="q-text"
           class="text-2xl font-bold min-h-[160px] flex items-center justify-center leading-relaxed px-6 text-white/90 italic"></p>
        <div class="indicator-bar w-0" id="decision-bar"></div>
    </div>
</div>

<!-- ç»“æœé¡µ -->
<div id="result-hub" class="hidden relative z-30 w-full max-w-4xl px-6 text-center">
    <h2 class="text-5xl font-black mb-12 tracking-tighter">æµ‹è¯„åˆ†æå°±ç»ª</h2>
</div>

<!-- JS é€»è¾‘ï¼ˆåŸæ ·ä¿ç•™ï¼‰ -->
<script>

</script>

<!-- âœ… HTTPS ç‰ˆ Dify æ¥å…¥ï¼ˆå”¯ä¸€ä¿®æ”¹ç‚¹ï¼‰ -->
<script>
  window.difyChatbotConfig = {
    token: 'dLcIrIy1AkVHupEu',
    baseUrl: 'https://exper-api.cfnet.org.cn'
  }
</script>
<script
  src="https://exper-api.cfnet.org.cn/embed.min.js"
  id="dLcIrIy1AkVHupEu"
  defer>
</script>

</body>
</html>
